<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Axel's Chaotic Chat</title>
  <style>
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      height: 100%;
      font-family: 'Courier New', Courier, monospace;
      background: #121217; /* Very dark gray */
      color: #e0e0e0;
      display: flex;
      overflow: hidden;
      user-select: none;
    }

    /* Sidebar for chat list */
    #chats-list {
      width: 260px;
      background: #181820;
      border-right: 1px solid #282830;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      padding: 1rem 0;
      -webkit-app-region: drag;
    }

    .chat-list-item {
      padding: 12px 16px;
      cursor: pointer;
      color: #a0a0a0;
      font-size: 14px;
      border-left: 4px solid transparent;
      transition: all 0.2s ease;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      -webkit-app-region: no-drag;
    }

    .chat-list-item:hover {
      background: #272732;
      color: #f6821f;
    }

    .chat-list-item.active {
      color: #f6821f;
      border-left-color: #f6821f;
      font-weight: 700;
      background: #2a2a38;
    }

    /* Main chat container */
    .main-container {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      background: #121217;
      position: relative;
    }

    header {
      padding: 1rem 2rem;
      background: linear-gradient(90deg, #f6821f 0%, #e67e22 100%);
      color: #121217;
      font-weight: 900;
      font-size: 20px;
      letter-spacing: 1.1px;
      user-select: none;
      text-shadow:
        0 0 5px #f6821f,
        0 0 15px #e67e22;
      -webkit-app-region: drag;
    }

    /* Chat messages area */
    #chat-messages {
      flex-grow: 1;
      padding: 1rem 2rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      scroll-behavior: smooth;
      background: #121217;
      -webkit-app-region: no-drag;
    }

    /* Message bubbles */
    .message {
      max-width: 70%;
      padding: 12px 18px;
      border-radius: 18px;
      font-size: 15px;
      line-height: 1.3;
      position: relative;
      color: #e0e0e0;
      filter: drop-shadow(0 0 2px rgba(255 255 255 / 0.12));
      user-select: text;
      word-break: break-word;
      animation: drift 10s ease-in-out infinite alternate;
    }

    /* User messages on right */
    .user-message {
      background: linear-gradient(135deg, #3c82f6, #1b55e9);
      align-self: flex-end;
      box-shadow:
        0 0 10px #3c82f6,
        0 0 20px #1b55e9;
      border-bottom-right-radius: 4px;
    }

    /* Assistant messages on left */
    .assistant-message {
      background: linear-gradient(135deg, #f6821f, #e67e22);
      align-self: flex-start;
      box-shadow:
        0 0 10px #f6821f,
        0 0 20px #e67e22;
      border-bottom-left-radius: 4px;
    }

    /* Shake effect when typing */
    .shaking {
      animation: shake 0.4s infinite ease-in-out alternate;
    }

    /* Drift animation */
    @keyframes drift {
      0% {
        transform: translate(0, 0) rotate(0.02deg);
      }
      50% {
        transform: translate(3px, 2px) rotate(-0.05deg);
      }
      100% {
        transform: translate(0, 0) rotate(0.02deg);
      }
    }

    /* Shake keyframe */
    @keyframes shake {
      0% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(1px, -1px) rotate(-1deg); }
      50% { transform: translate(-1px, 1px) rotate(1deg); }
      75% { transform: translate(1px, 1px) rotate(-1deg); }
      100% { transform: translate(0, 0) rotate(0deg); }
    }

    /* Typing indicator */
    #typing-indicator {
      height: 24px;
      color: #f6821f;
      font-style: italic;
      padding-left: 2rem;
      user-select: none;
      display: none;
      font-weight: 700;
      text-shadow:
        0 0 3px #f6821f,
        0 0 8px #e67e22;
      -webkit-app-region: no-drag;
    }

    #typing-indicator.visible {
      display: block;
    }

    /* Input area */
    .message-input {
      display: flex;
      padding: 1rem 2rem;
      border-top: 1px solid #282830;
      background: #181820;
      -webkit-app-region: no-drag;
    }

    #user-input {
      flex-grow: 1;
      font-family: 'Courier New', monospace;
      font-size: 15px;
      padding: 12px 16px;
      border: none;
      border-radius: 12px;
      background: #121217;
      color: #e0e0e0;
      box-shadow:
        inset 0 0 6px rgba(255 255 255 / 0.1);
      resize: none;
      min-height: 42px;
      max-height: 120px;
      overflow-y: auto;
      outline: none;
      transition: box-shadow 0.3s ease;
    }
    #user-input:focus {
      box-shadow:
        inset 0 0 14px #f6821f,
        0 0 10px #e67e22;
    }

    #send-button {
      margin-left: 1rem;
      background: #f6821f;
      border: none;
      border-radius: 12px;
      color: #121217;
      font-weight: 900;
      font-size: 16px;
      padding: 0 20px;
      cursor: pointer;
      box-shadow:
        0 0 10px #f6821f,
        0 0 20px #e67e22;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    #send-button:hover:not(:disabled) {
      background: #e67e22;
      box-shadow:
        0 0 20px #f6821f,
        0 0 40px #e67e22;
    }
    #send-button:disabled {
      background: #666;
      cursor: not-allowed;
      box-shadow: none;
      color: #ccc;
    }

    /* Scrollbar styles */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-thumb {
      background: #f6821f;
      border-radius: 10px;
    }
    ::-webkit-scrollbar-track {
      background: #181820;
    }

    /* Responsive tweaks */
    @media (max-width: 768px) {
      #chats-list {
        display: none; /* Hide sidebar on small screens */
      }
      body, html {
        flex-direction: column;
      }
      .main-container {
        height: 100vh;
      }
    }

  </style>
</head>
<body>
  <div id="chats-list" class="chats-list">
    <!-- Chat sessions sidebar dynamically filled -->
  </div>

  <div class="main-container">
    <header>Axel's Chaotic Chat</header>
    <div id="chat-messages" class="chat-messages">
      <!-- Messages go here -->
    </div>
    <div id="typing-indicator">AI is thinking...</div>
    <div class="message-input">
      <textarea
        id="user-input"
        placeholder="Type your message here..."
        rows="1"
        autofocus
        spellcheck="false"
      ></textarea>
      <button id="send-button">Send</button>
    </div>
  </div>

  <script src="chat.js"></script>
</body>
</html>